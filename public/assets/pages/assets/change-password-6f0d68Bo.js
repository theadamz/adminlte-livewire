import{i as a,M as o,s as n,a as i,r as d,f as l}from"./general-EKVRape8.js";const c=document.querySelector("#formInput");function u(){_formValidation=$(c).validate({rules:{password_old:{required:!0},password:{required:!0,minlength:8},password_confirmation:{required:!0,minlength:8,equalTo:"#password"}},errorElement:"span",errorPlacement:function(t,e){t.addClass("invalid-feedback"),e.closest(".fv-row").append(t)},highlight:function(t,e,s){$(t).addClass("is-invalid")},unhighlight:function(t,e,s){$(t).removeClass("is-invalid")},submitHandler:w})}function m(){a("#password_old"),a("#password"),a("#password_confirmation")}function f(){document.getElementById("showPasswordOld").addEventListener("click",t=>r("showPasswordOld")),document.getElementById("showPasswordNew").addEventListener("click",t=>r("showPasswordNew")),document.getElementById("showPasswordNewConfirm").addEventListener("click",t=>r("showPasswordNewConfirm"))}function r(t){const e=document.getElementById(t),s=document.getElementById(e.getAttribute("for"));s.type==="password"?(s.type="text",e.querySelector(".fa-eye-slash").classList.remove("d-none"),e.querySelector(".fa-eye").classList.add("d-none")):(s.type="password",e.querySelector(".fa-eye").classList.remove("d-none"),e.querySelector(".fa-eye-slash").classList.add("d-none"))}function w(){o.Confirm("Are you sure want to change?").then(t=>{n(!0,"#save"),_data2Send=$("#formInput").serialize(),i(`${_baseURL}/change-password`,"POST",_data2Send).then(e=>{[200].includes(e.status)?(Toast.fire({icon:"success",title:e.statusText,text:e.data.message}),$("#password_old").val(null),$("#password").val(null),$("#password_confirmation").val(null)):(o.HtmlNotification(d(e.data),`${e.status} - ${e.statusText}`),l(e.data.errors)),n(!1,"#save")}).catch(e=>{o.Notification(e.toString()),n(!1,"#save")})}).catch(t=>{t&&console.log(t)})}document.addEventListener("DOMContentLoaded",function(){m(),u(),f()});
