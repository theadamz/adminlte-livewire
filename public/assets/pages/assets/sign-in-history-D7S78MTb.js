import{d,b as l}from"./general-EKVRape8.js";function i(){_dataTable=$("#list_datatable").DataTable({lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],pageLength:50,numbers_length:4,searchDelay:500,processing:!0,serverSide:!0,scrollX:!0,stateSave:_dataTableUseState,stateDuration:_dataTableStateDuration,scrollY:_dataTableScrollY,order:[[0,"desc"]],select:{items:"row",style:"single",className:"bg-warning"},ajax:{url:`${_baseURL}/dt/sign-in-history`,type:"GET",data:function(e){e.start_date=$("#filter_date").data("daterangepicker").startDate.format("YYYY-MM-DD"),e.end_date=$("#filter_date").data("daterangepicker").endDate.format("YYYY-MM-DD")}},columns:[{data:"id",visible:!1},{data:"ip"},{data:"platform"},{data:"browser"},{data:"city",render:function(e,a,t,r){return`${t.city} - ${t.country}`}},{data:"created_at",searchable:!1,render:function(e,a,t,r){return d(e)}}]}).on("xhr.dt",function(e,a,t,r){setTimeout(()=>{_dataTable.columns.adjust()},300)}),document.querySelector("#refresh").addEventListener("click",()=>n(!1))}function s(){l("#filter_date"),$("#filter_date").on("apply.daterangepicker",function(e,a){n(!0)})}function n(e=!0){_dataTableResetFilter=!1,_dataTable.ajax.reload(null,e)}document.addEventListener("DOMContentLoaded",function(){s(),i()});
